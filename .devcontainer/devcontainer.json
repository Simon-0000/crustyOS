{
    "name": "Rust Development Environment for crustyOS",
    "image": "mcr.microsoft.com/vscode/devcontainers/base:ubuntu",
    "customizations": {
        "vscode": {
            "extensions": [
                "rust-lang.rust-analyzer"
            ]
        }
    },

    "postCreateCommand": "sudo apt-get update && sudo curl https://sh.rustup.rs -sSf | sh && \
                         /bin/bash -c 'source $HOME/.cargo/env && \
                         cargo install bootimage && \
                         rustup component add rust-src --toolchain nightly-x86_64-unknown-linux-gnu && \
                         rustup component add llvm-tools-preview' && \
                         sudo apt install qemu-system-x86"
}